<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rich store inventory</title>
    <link rel="stylesheet" href="../style2.css">
  </head>
  <body>
    <nav>
      <h2>Rich store inventory</h2>
      <div class="navDiv">
        <a href="/"><p>Home</p></a>
        <a href="/assets">All assets</a>
        <a href="/assets/tables">Edit tables</a>
      </div>
    </nav>
    <hr>
    <main>
      <h2 class="h2Table">Tables:</h2>
      <div class="divAllTables">
        <div class="tableDiv">
          <table>
            <tr>
                <th>Name</th>
                <th style="color: blue">Action</th>
            </tr>
            <% products.map((asset) => { %>
                <tr>
                    <td><%= asset.name %></td>
                    <td>
                      <form style="display: inline" action="tables/delete/product" method="POST">
                        <input value="<%= asset.id%>" name="id" style="display: none;"/>
                        <button type="submit" style="display: inline;">Delete</button>
                      </form>
                    </td>
                </tr>
            <% }) %> 
          </table>
          <form action="tables/name" method="POST" class="formTables">
            <label for="name">Add name:</label>
            <input type="text" id='name' name='name' required />
            <button type="submit">Submit</button>
          </form>
          <form action="tables/edit/product" method="POST" class="editForm">
            <label for="newName">Edit name:</label>
            <input type="text" id='newName' name='newName' maxlength = "20" required />
            <select name="id" id="id">
              <% products.forEach((product) => { %>
                  <option value="<%=product.id%>"><%=product.name %></option>
              <% }) %>
            </select>
            <button type="submit">Submit</button>
          </form>
        </div>
        <div class="tableDiv">
          <table>
            <tr>
                <th>Color</th>
                <th style="color: blue">Action</th>
            </tr>
            <% colors.map((asset) => { %>
                <tr>
                    <td><%= asset.color %></td>
                      <td>
                        <form style="display: inline" action="tables/delete/color" method="POST">
                          <input value="<%= asset.id%>" name="id" style="display: none;"/>
                          <button type="submit" style="display: inline;">Delete</button>
                        </form>
                      </td>
                </tr>
            <% }) %> 
          </table>
          <form action="tables/color" method="POST" class="formTables">
            <label for="color">Add Color:</label>
            <input type="text" id='color' name='color' required />
            <button type="submit">Submit</button>
          </form>
          <form action="tables/edit/color" method="POST" class="editForm">
            <label for="newName">Edit name:</label>
            <input type="text" id='newColor' name='newColor' maxlength = "20" required />
            <select name="id" id="id">
              <% colors.forEach((color) => { %>
                  <option value="<%=color.id%>"><%=color.color %></option>
              <% }) %>
            </select>
            <button type="submit">Submit</button>
          </form>
        </div>
        <div class="tableDiv">
          <table>
            <tr>
                <th>Address</th>
                <th style="color: blue">Action</th>
            </tr>
            <% addresses.map((asset) => { %>
                <tr>
                    <td><%= asset.address %></td>
                    <td>
                      <form style="display: inline" action="tables/delete/address" method="POST">
                        <input value="<%= asset.id%>" name="id" style="display: none;"/>
                        <button type="submit" style="display: inline;">Delete</button>
                      </form>
                    </td>
                </tr>
            <% }) %> 
          </table>
          <form action="tables/address" method="POST" class="formTables">
            <label for="address">Add address:</label>
            <input type="text" id='address' name='address' required />
            <button type="submit">Submit</button>
          </form>
          <form action="tables/edit/address" method="POST" class="editForm">
            <label for="newName">Edit name:</label>
            <input type="text" id='newAddress' name='newAddress' maxlength = "20" required />
            <select name="id" id="id">
              <% addresses.forEach((address) => { %>
                  <option value="<%=address.id%>"><%=address.address %></option>
              <% }) %>
            </select>
            <button type="submit">Submit</button>
          </form>
        </div>
      </div>
      <hr>
      <h2>Create asset:</h2>
      <form class="assetsSelects" action="tables/new" method="POST">
      <label for="name">Product: </label>
      <select name="name" id="name">
          <% products.forEach((product) => { %>
              <option value="<%=product.id%>"><%=product.name %></option>
          <% }) %>
      </select>

      <label for="color">Colors: </label>
      <select name="color" id="color">
          <% colors.forEach((color) => { %>
              <option value="<%=color.id%>"><%=color.color %></option>
          <% }) %>
      </select>

      <label for="address">Addresses: </label>
      <select name="address" id="address">
          <% addresses.forEach((address) => { %>
              <option value="<%=address.id%>"><%=address.address %></option>
          <% }) %>
      </select>
      <label for="price">Price:</label>
      <input type="number" id="price" name='price' max="1000" required/>
      <label for="quantity">quantity:</label>
      <input type="number" id="quantity" name='quantity' max="1000" required/>
      <button type='submit' class="BtnAsset">Create new asset</button>
    </form>
    </main>

  </body>
</html>